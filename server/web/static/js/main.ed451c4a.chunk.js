(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{80:function(e,a,n){e.exports=n(95)},85:function(e,a,n){},86:function(e,a,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},87:function(e,a,n){},95:function(e,a,n){"use strict";n.r(a);var t=n(0),r=n.n(t),l=n(14),i=n.n(l),c=(n(85),n(15)),o=n(25),m=(n(86),n(87),n(150)),u=n(160),s=n(159),d=n(153),b=n(52),g=n.n(b),p=n(23),E=n(24),f=n(19),v=n(145),y=n(149),O=n(148),j=n(143),h=n(146),$=n(147),w=n(72),N=n(154),P=n(155),I=n(156),k=n(157),S=n(158),C=n(152),x=n(71),L=n.n(x),R=n(140),z=n(70);function G(){var e=Object(o.a)(["\n  mutation RemoveAllPlayer {\n    removeAllPlayer\n  }\n"]);return G=function(){return e},e}function B(){var e=Object(o.a)(["\n  mutation GeneratePlayer {\n    generatePlayer\n  }\n"]);return B=function(){return e},e}function q(){var e=Object(o.a)(["\n  mutation GenerateRole {\n    generateRole\n  }\n"]);return q=function(){return e},e}function A(){var e=Object(o.a)(["\n  mutation UpdatePlayerName($id: Int!, $name: String!) {\n    updatePlayerName(id: $id, name: $name)\n  }\n"]);return A=function(){return e},e}function T(){var e=Object(o.a)(["\n  mutation UpdatePlayerPass($id: Int!, $pass: String!) {\n    updatePlayerPass(id: $id, pass: $pass) {\n      isValid\n      name\n    }\n  }\n"]);return T=function(){return e},e}function U(){var e=Object(o.a)(["\n  mutation UpdateRoleNumber($id: Int!, $number: Int!) {\n    updateRoleNumber(id: $id, number: $number)\n  }\n"]);return U=function(){return e},e}function W(){var e=Object(o.a)(["\n  query GetPlayer($id: Int!, $pass: String!) {\n    player(id: $id, pass: $pass) {\n      id\n      name\n      roleName\n    }\n    players {\n      id\n      name\n    }\n  }\n"]);return W=function(){return e},e}function J(){var e=Object(o.a)(["\n  query GetPlayer($id: Int!, $pass: String!) {\n    player(id: $id, pass: $pass) {\n      id\n      name\n    }\n  }\n"]);return J=function(){return e},e}function V(){var e=Object(o.a)(["\n  {\n    roles {\n      id\n      name\n      number\n    }\n    players {\n      id\n      name\n      roleName\n      isEmpty\n    }\n  }\n"]);return V=function(){return e},e}function D(){var e=Object(o.a)(["\n  {\n    players {\n      id\n      name\n      isEmpty\n    }\n  }\n"]);return D=function(){return e},e}var F=new p.a({uri:"/graphql"}),M=Object(R.a)((function(e){return{margin:{margin:e.spacing(1)},table:{minWidth:450},title:{flexGrow:1},menuButton:{marginRight:e.spacing(2)}}})),H=Object(p.b)(D()),K=Object(p.b)(V()),Q=(Object(p.b)(J()),Object(p.b)(W())),X=Object(p.b)(U()),Y=Object(p.b)(T()),Z=Object(p.b)(A()),_=Object(p.b)(q()),ee=Object(p.b)(B()),ae=Object(p.b)(G());function ne(e){var a=M();return r.a.createElement(j.a,{component:w.a},r.a.createElement(v.a,{className:a.table,"aria-label":"simple table",size:"small"},r.a.createElement(h.a,null,r.a.createElement($.a,null,r.a.createElement(O.a,null,"\u89d2\u8272"),r.a.createElement(O.a,{align:"right"},"\u4eba\u6578"))),r.a.createElement(y.a,null,e.data.map((function(e){return r.a.createElement($.a,{key:e.name},r.a.createElement(O.a,{component:"th",scope:"row"},e.name),r.a.createElement(O.a,{align:"right"},e.number))})))))}function te(e){var a=M();return r.a.createElement(j.a,{component:w.a},r.a.createElement(v.a,{className:a.table,"aria-label":"simple table",size:"small"},r.a.createElement(h.a,null,r.a.createElement($.a,null,r.a.createElement(O.a,null,"ID"),r.a.createElement(O.a,{align:"right"},"\u73a9\u5bb6"),r.a.createElement(O.a,{align:"right"},"\u89d2\u8272"),r.a.createElement(O.a,{align:"right"},"\u4e0a\u7dda"))),r.a.createElement(y.a,null,e.data.map((function(e){return r.a.createElement($.a,{key:e.id},r.a.createElement(O.a,{component:"th",scope:"row"},e.id),r.a.createElement(O.a,{align:"right"},e.name),r.a.createElement(O.a,{align:"right"},e.roleName),r.a.createElement(O.a,{align:"right"},r.a.createElement("span",{style:{color:e.isEmpty?"gray":"lightgreen",transition:"all .3s ease",fontSize:"24px",marginRight:"10px"}},"\u25cf")))})))))}function re(){var e=Object(E.b)(K,{pollInterval:500}),a=e.loading,n=(e.error,e.data);return a?null:r.a.createElement("div",null,r.a.createElement(ne,{data:n.roles.filter((function(e){return e.id>0}))}))}function le(){var e=M(),a=Object(E.b)(K,{pollInterval:500}),n=a.loading,t=(a.error,a.data),l=Object(E.a)(X),i=Object(c.a)(l,1)[0],o=Object(E.a)(_),b=Object(c.a)(o,1)[0],p=Object(E.a)(ee),f=Object(c.a)(p,1)[0],v=Object(E.a)(ae),y=Object(c.a)(v,1)[0],O=r.a.useState(-1),j=Object(c.a)(O,2),h=j[0],$=j[1],w=r.a.useState(0),N=Object(c.a)(w,2),P=N[0],I=N[1];if(n)return r.a.createElement("div",null,"Loading");return t.players.length>1?r.a.createElement("div",{style:{width:450,marginLeft:"30%"}},r.a.createElement(m.a,{variant:"contained",color:"primary",onClick:function(){b()}},"\u7522\u751f\u89d2\u8272"),r.a.createElement(m.a,{variant:"contained",color:"secondary",onClick:function(){y()}},"\u522a\u9664\u73a9\u5bb6"),r.a.createElement(te,{data:t.players})):(console.log(t),r.a.createElement("div",null,r.a.createElement(m.a,{variant:"contained",color:"primary",onClick:function(){f()}},"\u52a0\u5165\u73a9\u5bb6"),r.a.createElement("div",{style:{display:"flex",marginLeft:"30%"}},r.a.createElement(u.a,{id:"combo-box-demo",options:t.roles.filter((function(e){return e.id>0})),getOptionLabel:function(e){return e.name},style:{width:300},onChange:function(e,a){console.log(a),$(a.id)},renderInput:function(e){return r.a.createElement(s.a,Object.assign({},e,{label:"\u89d2\u8272",variant:"outlined",margin:"dense"}))}}),r.a.createElement(s.a,{id:"standard-basic",label:"\u4eba\u6578",variant:"outlined",className:e.margin,margin:"dense",type:"number",value:P,onChange:function(e){return I(e.target.value)}}),r.a.createElement(d.a,{size:"medium",color:"secondary","aria-label":"add",onClick:function(){console.log(h,P),i({variables:{id:h,number:parseInt(P)}})}},r.a.createElement(g.a,null))),r.a.createElement("div",{style:{width:450,marginLeft:"30%"}},r.a.createElement(re,null))))}function ie(e){var a=M(),n=Object(E.b)(Q,{fetchPolicy:"network-only",variables:{id:e.id,pass:e.pass},pollInterval:500}),t=n.loading,l=(n.error,n.data);console.log(e);var i=Object(z.a)(e.name,500),o=Object(c.a)(i,2),m=o[0],u=o[1],d=r.a.useState(e.name),b=Object(c.a)(d,2),g=b[0],p=b[1],f=Object(E.a)(Z),v=Object(c.a)(f,2),y=v[0],O=v[1].called;if(r.a.useEffect((function(){m&&(m!==e.name||O)&&y({variables:{id:e.id,name:m}})}),[m]),t)return r.a.createElement("div",null,"Loading");console.log(l.player);var j=l.player,h=(j.id,j.name,j.roleName);return r.a.createElement("div",{style:{width:450,marginLeft:"30%"}},r.a.createElement(s.a,{id:"standard-basic",label:"\u59d3\u540d",variant:"outlined",className:a.margin,margin:"dense",value:g,onChange:function(e){u(e.target.value),p(e.target.value)}}),r.a.createElement(N.a,{className:a.root},r.a.createElement(P.a,null,r.a.createElement(I.a,{variant:"h1",component:"h1"},h))),r.a.createElement(te,{data:l.players}))}function ce(){var e=M(),a=r.a.useState(-1),n=Object(c.a)(a,2),t=n[0],l=n[1],i=r.a.useState(0),o=Object(c.a)(i,2),b=o[0],p=o[1],f=Object(E.b)(H),v=f.loading,y=(f.error,f.data),O=Object(E.a)(Y),j=Object(c.a)(O,2),h=j[0],$=j[1],w=r.a.useState(!1),N=Object(c.a)(w,2),P=N[0],x=N[1];return v||$.loading?r.a.createElement("div",null,"Loading"):$.called&&$.data.updatePlayerPass.isValid&&P?(console.log($),r.a.createElement("div",null,r.a.createElement(k.a,{position:"static"},r.a.createElement(S.a,null,r.a.createElement(C.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(L.a,null)),r.a.createElement(I.a,{variant:"h6",className:e.title},"\u5c0f\u72fc\u72fc"),r.a.createElement(m.a,{variant:"contained",color:"secondary",onClick:function(){x(!1)}},"\u9000\u51fa"))),r.a.createElement("div",{style:{marginTop:10}},0===t?r.a.createElement(le,null):r.a.createElement(ie,{id:t,pass:b,name:$.data.updatePlayerPass.name})))):r.a.createElement("div",{style:{marginTop:"20%"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(u.a,{id:"combo-box-demo",className:e.margin,options:y.players,getOptionLabel:function(e){return"\u73a9\u5bb6 ".concat(e.id)},renderOption:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{color:e.isEmpty?"gray":"lightgreen",transition:"all .3s ease",fontSize:"24px",marginRight:"10px"}},"\u25cf")," \u73a9\u5bb6 ".concat(e.id))},onChange:function(e,a){l(a.id)},style:{width:200,marginLeft:55},renderInput:function(e){return r.a.createElement(s.a,Object.assign({},e,{label:"\u73a9\u5bb6",variant:"outlined",margin:"dense"}))}}),r.a.createElement("div",{style:{marginTop:10}},r.a.createElement(d.a,{size:"medium",color:"secondary","aria-label":"add",onClick:function(){h({variables:{id:t,pass:b}}),x(!0)}},r.a.createElement(g.a,null)))),r.a.createElement(s.a,{id:"standard-basic",label:"\u5bc6\u78bc",variant:"outlined",className:e.margin,margin:"dense",onChange:function(e){return p(e.target.value)},value:b}))}var oe=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(f.a,{client:F},r.a.createElement(ce,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(oe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[80,1,2]]]);
//# sourceMappingURL=main.ed451c4a.chunk.js.map