(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{103:function(e,n,a){},104:function(e,n,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},105:function(e,n,a){},113:function(e,n,a){"use strict";a.r(n);var t=a(0),r=a.n(t),l=a(18),i=a.n(l),c=(a(103),a(17)),o=a(16),u=(a(104),a(105),a(160)),m=a(171),s=a(169),d=a(168),b=a(57),p=a.n(b),g=a(13),E=a(24),f=a(23),y=a(155),v=a(159),O=a(158),j=a(154),h=a(156),$=a(157),P=a(83),N=a(162),w=a(163),I=a(114),S=a(165),R=a(166),x=a(167),k=a(81),G=a.n(k),C=a(152),z=a(153);a(151);Object(C.a)((function(e){return{footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6,0)}}}));var B=a(164),U=a(170),W=a(79),q=Object(C.a)((function(e){return{margin:{margin:e.spacing(1)},table:{minWidth:450},title:{flexGrow:1},menuButton:{marginRight:e.spacing(2)}}}));function A(e){var n=q();return r.a.createElement(j.a,{component:P.a},r.a.createElement(y.a,{className:n.table,"aria-label":"simple table",size:"small"},r.a.createElement(h.a,null,r.a.createElement($.a,null,r.a.createElement(O.a,null,"ID"),r.a.createElement(O.a,{align:"right"},"\u73a9\u5bb6"),r.a.createElement(O.a,{align:"right"},"\u89d2\u8272"),r.a.createElement(O.a,{align:"right"},"\u4e0a\u7dda"))),r.a.createElement(v.a,null,e.data.map((function(e){return r.a.createElement($.a,{key:e.id},r.a.createElement(O.a,{component:"th",scope:"row"},e.id),r.a.createElement(O.a,{align:"right"},e.name),r.a.createElement(O.a,{align:"right"},e.roleName),r.a.createElement(O.a,{align:"right"},r.a.createElement("span",{style:{color:e.isEmpty?"gray":"lightgreen",transition:"all .3s ease",fontSize:"24px",marginRight:"10px"}},"\u25cf")))})))))}function L(){var e=Object(o.a)(["\n  {\n    roles {\n      id\n      name\n      number\n    }\n    players {\n      id\n      name\n      roleName\n      isEmpty\n    }\n  }\n"]);return L=function(){return e},e}var T=Object(g.b)(L()),D=Object(C.a)((function(e){return{margin:{margin:e.spacing(1)},table:{minWidth:450},title:{flexGrow:1},menuButton:{marginRight:e.spacing(2)}}}));function F(e){var n=D();return r.a.createElement(j.a,{component:P.a},r.a.createElement(y.a,{className:n.table,"aria-label":"simple table",size:"small"},r.a.createElement(h.a,null,r.a.createElement($.a,null,r.a.createElement(O.a,null,"\u89d2\u8272"),r.a.createElement(O.a,{align:"right"},"\u4eba\u6578"))),r.a.createElement(v.a,null,e.data.map((function(e){return r.a.createElement($.a,{key:e.name},r.a.createElement(O.a,{component:"th",scope:"row"},e.name),r.a.createElement(O.a,{align:"right"},e.number))})))))}function V(){var e=Object(E.b)(T,{pollInterval:500}),n=e.loading,a=(e.error,e.data);return n?null:r.a.createElement("div",null,r.a.createElement(F,{data:a.roles.filter((function(e){return e.id>0}))}))}function J(){var e=Object(o.a)(["\n  mutation RemoveAllPlayer {\n    removeAllPlayer\n  }\n"]);return J=function(){return e},e}function M(){var e=Object(o.a)(["\n  mutation GeneratePlayer {\n    generatePlayer\n  }\n"]);return M=function(){return e},e}function Y(){var e=Object(o.a)(["\n  mutation GenerateRole {\n    generateRole\n  }\n"]);return Y=function(){return e},e}function H(){var e=Object(o.a)(["\n  mutation UpdatePlayerName($id: Int!, $name: String!) {\n    updatePlayerName(id: $id, name: $name)\n  }\n"]);return H=function(){return e},e}function K(){var e=Object(o.a)(["\n  mutation UpdatePlayerPass($id: Int!, $pass: String!) {\n    updatePlayerPass(id: $id, pass: $pass) {\n      isValid\n      name\n    }\n  }\n"]);return K=function(){return e},e}function Q(){var e=Object(o.a)(["\n  mutation UpdateRoleNumber($id: Int!, $number: Int!) {\n    updateRoleNumber(id: $id, number: $number)\n  }\n"]);return Q=function(){return e},e}function X(){var e=Object(o.a)(["\n  query GetPlayer($id: Int!, $pass: String!) {\n    player(id: $id, pass: $pass) {\n      id\n      name\n      roleName\n    }\n    players {\n      id\n      name\n    }\n  }\n"]);return X=function(){return e},e}function Z(){var e=Object(o.a)(["\n  query GetPlayer($id: Int!, $pass: String!) {\n    player(id: $id, pass: $pass) {\n      id\n      name\n    }\n  }\n"]);return Z=function(){return e},e}function _(){var e=Object(o.a)(["\n  {\n    roles {\n      id\n      name\n      number\n    }\n    players {\n      id\n      name\n      roleName\n      isEmpty\n    }\n  }\n"]);return _=function(){return e},e}function ee(){var e=Object(o.a)(["\n  {\n    players {\n      id\n      name\n      isEmpty\n    }\n  }\n"]);return ee=function(){return e},e}Object(g.b)(ee());var ne=Object(g.b)(_()),ae=(Object(g.b)(Z()),Object(g.b)(X()),Object(g.b)(Q())),te=(Object(g.b)(K()),Object(g.b)(H()),Object(g.b)(Y())),re=Object(g.b)(M()),le=Object(g.b)(J()),ie=Object(C.a)((function(e){return{margin:{margin:e.spacing(1)},table:{minWidth:450},title:{flexGrow:1},menuButton:{marginRight:e.spacing(2)}}}));function ce(){ie();var e=Object(E.b)(ne,{pollInterval:500}),n=e.loading,a=(e.error,e.data),t=Object(E.a)(ae),l=(Object(c.a)(t,1)[0],Object(E.a)(te)),i=Object(c.a)(l,1)[0],o=Object(E.a)(re),m=(Object(c.a)(o,1)[0],Object(E.a)(le)),s=Object(c.a)(m,1)[0],d=r.a.useState(-1),b=Object(c.a)(d,2),p=(b[0],b[1],r.a.useState(0)),g=Object(c.a)(p,2);g[0],g[1];if(n)return r.a.createElement("div",null,"Loading");return a.players.length>1?r.a.createElement("div",{style:{marginTop:120}},r.a.createElement(u.a,{variant:"contained",color:"primary",onClick:function(){i()}},"\u7522\u751f\u89d2\u8272"),r.a.createElement(u.a,{variant:"contained",color:"secondary",onClick:function(){s()}},"\u522a\u9664\u73a9\u5bb6"),r.a.createElement(A,{data:a.players})):r.a.createElement("div",null,r.a.createElement(V,null))}function oe(){var e=Object(o.a)(["\n  mutation RemoveAllPlayer {\n    removeAllPlayer\n  }\n"]);return oe=function(){return e},e}function ue(){var e=Object(o.a)(["\n  mutation GeneratePlayer {\n    generatePlayer\n  }\n"]);return ue=function(){return e},e}function me(){var e=Object(o.a)(["\n  mutation GenerateRole {\n    generateRole\n  }\n"]);return me=function(){return e},e}function se(){var e=Object(o.a)(["\n  mutation UpdatePlayerName($id: Int!, $name: String!) {\n    updatePlayerName(id: $id, name: $name)\n  }\n"]);return se=function(){return e},e}function de(){var e=Object(o.a)(["\n  mutation UpdatePlayerPass($id: Int!, $pass: String!) {\n    updatePlayerPass(id: $id, pass: $pass) {\n      isValid\n      name\n    }\n  }\n"]);return de=function(){return e},e}function be(){var e=Object(o.a)(["\n  mutation UpdateRoleNumber($id: Int!, $number: Int!) {\n    updateRoleNumber(id: $id, number: $number)\n  }\n"]);return be=function(){return e},e}function pe(){var e=Object(o.a)(["\n  query GetPlayer($id: Int!, $pass: String!) {\n    player(id: $id, pass: $pass) {\n      id\n      name\n      roleName\n    }\n    players {\n      id\n      name\n    }\n  }\n"]);return pe=function(){return e},e}function ge(){var e=Object(o.a)(["\n  query GetPlayer($id: Int!, $pass: String!) {\n    player(id: $id, pass: $pass) {\n      id\n      name\n    }\n  }\n"]);return ge=function(){return e},e}function Ee(){var e=Object(o.a)(["\n  {\n    roles {\n      id\n      name\n      number\n    }\n    players {\n      id\n      name\n      roleName\n      isEmpty\n    }\n  }\n"]);return Ee=function(){return e},e}function fe(){var e=Object(o.a)(["\n  {\n    players {\n      id\n      name\n      isEmpty\n    }\n  }\n"]);return fe=function(){return e},e}var ye=new g.a({uri:"/graphql"}),ve=Object(C.a)((function(e){return{margin:{margin:e.spacing(1)},table:{minWidth:450},title:{flexGrow:1},menuButton:{marginRight:e.spacing(2)}}})),Oe=Object(g.b)(fe()),je=(Object(g.b)(Ee()),Object(g.b)(ge()),Object(g.b)(pe())),he=(Object(g.b)(be()),Object(g.b)(de())),$e=Object(g.b)(se());Object(g.b)(me()),Object(g.b)(ue()),Object(g.b)(oe());function Pe(){return r.a.createElement(I.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",(new Date).getFullYear(),".")}function Ne(e){var n=ve();return r.a.createElement(j.a,{component:P.a},r.a.createElement(y.a,{className:n.table,"aria-label":"simple table",size:"small"},r.a.createElement(h.a,null,r.a.createElement($.a,null,r.a.createElement(O.a,null,"ID"),r.a.createElement(O.a,{align:"right"},"\u73a9\u5bb6"),r.a.createElement(O.a,{align:"right"},"\u89d2\u8272"),r.a.createElement(O.a,{align:"right"},"\u4e0a\u7dda"))),r.a.createElement(v.a,null,e.data.map((function(e){return r.a.createElement($.a,{key:e.id},r.a.createElement(O.a,{component:"th",scope:"row"},e.id),r.a.createElement(O.a,{align:"right"},e.name),r.a.createElement(O.a,{align:"right"},e.roleName),r.a.createElement(O.a,{align:"right"},r.a.createElement("span",{style:{color:e.isEmpty?"gray":"lightgreen",transition:"all .3s ease",fontSize:"24px",marginRight:"10px"}},"\u25cf")))})))))}function we(e){var n=ve(),a=Object(E.b)(je,{fetchPolicy:"network-only",variables:{id:e.id,pass:e.pass},pollInterval:500}),t=a.loading,l=(a.error,a.data);console.log(e);var i=Object(W.a)(e.name,500),o=Object(c.a)(i,2),u=o[0],m=o[1],d=r.a.useState(e.name),b=Object(c.a)(d,2),p=b[0],g=b[1],f=Object(E.a)($e),y=Object(c.a)(f,2),v=y[0],O=y[1].called;if(r.a.useEffect((function(){u&&(u!==e.name||O)&&v({variables:{id:e.id,name:u}})}),[u]),t)return r.a.createElement("div",null,"Loading");console.log(l.player);var j=l.player,h=(j.id,j.name,j.roleName);return r.a.createElement("div",{style:{marginTop:120}},r.a.createElement(s.a,{id:"standard-basic",label:"\u59d3\u540d",variant:"outlined",className:n.margin,margin:"dense",value:p,onChange:function(e){m(e.target.value),g(e.target.value)}}),r.a.createElement(N.a,{className:n.root},r.a.createElement(w.a,null,r.a.createElement(I.a,{variant:"h1",component:"h1"},h))),r.a.createElement(Ne,{data:l.players}))}function Ie(){var e=ve(),n=r.a.useState(-1),a=Object(c.a)(n,2),t=a[0],l=a[1],i=r.a.useState(0),o=Object(c.a)(i,2),b=o[0],g=o[1],f=Object(E.b)(Oe),y=f.loading,v=(f.error,f.data),O=Object(E.a)(he),j=Object(c.a)(O,2),h=j[0],$=j[1],P=r.a.useState(!1),N=Object(c.a)(P,2),w=N[0],k=N[1];return y||$.loading?r.a.createElement("div",null,"Loading"):$.called&&$.data.updatePlayerPass.isValid&&w?(console.log($),r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,null),r.a.createElement(z.a,null,r.a.createElement(S.a,{position:"absolute"},r.a.createElement(R.a,null,r.a.createElement(x.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(G.a,null)),r.a.createElement(I.a,{variant:"h6",className:e.title},"\u5c0f\u72fc\u72fc"),r.a.createElement(u.a,{variant:"contained",color:"secondary",onClick:function(){k(!1)}},"\u9000\u51fa"))),r.a.createElement("div",{style:{marginTop:10}},0===t?r.a.createElement(ce,null):r.a.createElement(we,{id:t,pass:b,name:$.data.updatePlayerPass.name})),r.a.createElement(U.a,{pt:4},r.a.createElement(Pe,null))))):r.a.createElement("div",{style:{marginTop:"20%"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(m.a,{id:"combo-box-demo",className:e.margin,options:v.players,getOptionLabel:function(e){return"\u73a9\u5bb6 ".concat(e.id)},renderOption:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{color:e.isEmpty?"gray":"lightgreen",transition:"all .3s ease",fontSize:"24px",marginRight:"10px"}},"\u25cf")," \u73a9\u5bb6 ".concat(e.id))},onChange:function(e,n){l(n.id)},style:{width:200,marginLeft:55},renderInput:function(e){return r.a.createElement(s.a,Object.assign({},e,{label:"\u73a9\u5bb6",variant:"outlined",margin:"dense"}))}}),r.a.createElement("div",{style:{marginTop:10}},r.a.createElement(d.a,{size:"medium",color:"secondary","aria-label":"add",onClick:function(){h({variables:{id:t,pass:b}}),k(!0)}},r.a.createElement(p.a,null)))),r.a.createElement(s.a,{id:"standard-basic",label:"\u5bc6\u78bc",variant:"outlined",className:e.margin,margin:"dense",onChange:function(e){return g(e.target.value)},value:b}))}var Se=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(f.a,{client:ye},r.a.createElement(Ie,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Se,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},98:function(e,n,a){e.exports=a(113)}},[[98,1,2]]]);
//# sourceMappingURL=main.28bcbc5c.chunk.js.map