(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{104:function(e,n,a){},105:function(e,n,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},106:function(e,n,a){},114:function(e,n,a){"use strict";a.r(n);var t=a(0),r=a.n(t),l=a(18),i=a.n(l),c=(a(104),a(17)),o=a(16),m=(a(105),a(106),a(161)),u=a(172),s=a(170),d=a(164),b=a(58),g=a.n(b),p=a(14),f=a(24),E=a(23),y=a(156),v=a(160),O=a(159),j=a(155),h=a(157),$=a(158),P=a(84),N=a(165),I=a(166),w=a(115),S=a(168),x=a(169),R=a(163),k=a(83),C=a.n(k),G=a(153),z=a(154);a(152);Object(G.a)((function(e){return{footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6,0)}}}));var B=a(167),T=a(171),L=a(82),U=a(12),W=Object(G.a)((function(e){return{margin:{margin:e.spacing(1)},table:{minWidth:450},title:{flexGrow:1},menuButton:{marginRight:e.spacing(2)}}}));function q(e){var n=W();return r.a.createElement(j.a,{component:P.a},r.a.createElement(y.a,{className:n.table,"aria-label":"simple table",size:"small"},r.a.createElement(h.a,null,r.a.createElement($.a,null,r.a.createElement(O.a,null,"ID"),r.a.createElement(O.a,{align:"right"},"\u73a9\u5bb6"),r.a.createElement(O.a,{align:"right"},"\u89d2\u8272"),r.a.createElement(O.a,{align:"right"},"\u4e0a\u7dda"))),r.a.createElement(v.a,null,e.data.map((function(e){return r.a.createElement($.a,{key:e.id},r.a.createElement(O.a,{component:"th",scope:"row"},e.id),r.a.createElement(O.a,{align:"right"},e.name),r.a.createElement(O.a,{align:"right"},e.roleName),r.a.createElement(O.a,{align:"right"},r.a.createElement("span",{style:{color:e.isEmpty?"gray":"lightgreen",transition:"all .3s ease",fontSize:"24px",marginRight:"10px"}},"\u25cf")))})))))}function A(){var e=Object(o.a)(["\n  {\n    roles {\n      id\n      name\n      number\n    }\n    players {\n      id\n      name\n      roleName\n      isEmpty\n    }\n  }\n"]);return A=function(){return e},e}var D=Object(p.b)(A()),F=Object(G.a)((function(e){return{margin:{margin:e.spacing(1)},table:{minWidth:450},title:{flexGrow:1},menuButton:{marginRight:e.spacing(2)}}}));function V(e){var n=F();return r.a.createElement(j.a,{component:P.a},r.a.createElement(y.a,{className:n.table,"aria-label":"simple table",size:"small"},r.a.createElement(h.a,null,r.a.createElement($.a,null,r.a.createElement(O.a,null,"\u89d2\u8272"),r.a.createElement(O.a,{align:"right"},"\u4eba\u6578"))),r.a.createElement(v.a,null,e.data.map((function(e){return r.a.createElement($.a,{key:e.name},r.a.createElement(O.a,{component:"th",scope:"row"},e.name),r.a.createElement(O.a,{align:"right"},e.number))})))))}function J(){var e=Object(f.b)(D,{pollInterval:500}),n=e.loading,a=(e.error,e.data);return n?null:r.a.createElement("div",null,r.a.createElement(V,{data:a.roles.filter((function(e){return e.id>0}))}))}var M=a(81),Y=a.n(M);function H(){var e=Object(o.a)(["\n  mutation RemoveAllPlayer {\n    removeAllPlayer\n  }\n"]);return H=function(){return e},e}function K(){var e=Object(o.a)(["\n  mutation GeneratePlayer {\n    generatePlayer\n  }\n"]);return K=function(){return e},e}function Q(){var e=Object(o.a)(["\n  mutation GenerateRole {\n    generateRole\n  }\n"]);return Q=function(){return e},e}function X(){var e=Object(o.a)(["\n  mutation UpdatePlayerName($id: Int!, $name: String!) {\n    updatePlayerName(id: $id, name: $name)\n  }\n"]);return X=function(){return e},e}function Z(){var e=Object(o.a)(["\n  mutation UpdatePlayerPass($id: Int!, $pass: String!) {\n    updatePlayerPass(id: $id, pass: $pass) {\n      isValid\n      name\n    }\n  }\n"]);return Z=function(){return e},e}function _(){var e=Object(o.a)(["\n  mutation UpdateRoleNumber($id: Int!, $number: Int!) {\n    updateRoleNumber(id: $id, number: $number)\n  }\n"]);return _=function(){return e},e}function ee(){var e=Object(o.a)(["\n  query GetPlayer($id: Int!, $pass: String!) {\n    player(id: $id, pass: $pass) {\n      id\n      name\n      roleName\n    }\n    players {\n      id\n      name\n    }\n  }\n"]);return ee=function(){return e},e}function ne(){var e=Object(o.a)(["\n  query GetPlayer($id: Int!, $pass: String!) {\n    player(id: $id, pass: $pass) {\n      id\n      name\n    }\n  }\n"]);return ne=function(){return e},e}function ae(){var e=Object(o.a)(["\n  {\n    roles {\n      id\n      name\n      number\n    }\n    players {\n      id\n      name\n      roleName\n      isEmpty\n    }\n  }\n"]);return ae=function(){return e},e}function te(){var e=Object(o.a)(["\n  {\n    players {\n      id\n      name\n      isEmpty\n    }\n  }\n"]);return te=function(){return e},e}Object(p.b)(te());var re=Object(p.b)(ae()),le=(Object(p.b)(ne()),Object(p.b)(ee()),Object(p.b)(_())),ie=(Object(p.b)(Z()),Object(p.b)(X()),Object(p.b)(Q())),ce=Object(p.b)(K()),oe=Object(p.b)(H()),me=Object(G.a)((function(e){return{margin:{margin:e.spacing(1)},table:{minWidth:450},title:{flexGrow:1},menuButton:{marginRight:e.spacing(2)}}}));function ue(){var e,n=me(),a=Object(f.b)(re,{pollInterval:500}),t=a.loading,l=(a.error,a.data),i=Object(f.a)(le),o=Object(c.a)(i,1)[0],b=Object(f.a)(ie),g=Object(c.a)(b,1)[0],p=Object(f.a)(ce),E=Object(c.a)(p,1)[0],y=Object(f.a)(oe),v=Object(c.a)(y,1)[0],O=r.a.useState(-1),j=Object(c.a)(O,2),h=j[0],$=j[1],P=r.a.useState(0),N=Object(c.a)(P,2),I=N[0],w=N[1];if(t)return r.a.createElement("div",null,"Loading");return l.players.length>1?r.a.createElement("div",{style:{marginTop:120}},r.a.createElement(m.a,{variant:"contained",color:"primary",onClick:function(){g()}},"\u7522\u751f\u89d2\u8272"),r.a.createElement(m.a,{variant:"contained",color:"secondary",onClick:function(){v()}},"\u522a\u9664\u73a9\u5bb6"),r.a.createElement(q,{data:l.players})):r.a.createElement("div",{style:{marginTop:120}},r.a.createElement(m.a,{variant:"contained",color:"primary",onClick:function(){E()}},"\u52a0\u5165\u73a9\u5bb6"),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(u.a,{id:"combo-box-demo",options:l.roles.filter((function(e){return e.id>0})),getOptionLabel:function(e){return e.name},style:{width:300},onChange:function(e,n){$(n.id)},renderInput:function(e){return r.a.createElement(s.a,Object.assign({},e,{label:"\u89d2\u8272",variant:"outlined",margin:"dense"}))}}),r.a.createElement(s.a,{id:"standard-basic",label:"\u4eba\u6578",variant:"outlined",className:n.margin,margin:"dense",type:"number",value:I,onChange:function(e){return w(e.target.value)}}),r.a.createElement("div",{style:{marginTop:5}},r.a.createElement(d.a,(e={size:"medium",color:"secondary","aria-label":"add"},Object(U.a)(e,"size","small"),Object(U.a)(e,"onClick",(function(){console.log(h,I),o({variables:{id:h,number:parseInt(I)}})})),e),r.a.createElement(Y.a,null)))),r.a.createElement(J,null))}function se(){var e=Object(o.a)(["\n  mutation RemoveAllPlayer {\n    removeAllPlayer\n  }\n"]);return se=function(){return e},e}function de(){var e=Object(o.a)(["\n  mutation GeneratePlayer {\n    generatePlayer\n  }\n"]);return de=function(){return e},e}function be(){var e=Object(o.a)(["\n  mutation GenerateRole {\n    generateRole\n  }\n"]);return be=function(){return e},e}function ge(){var e=Object(o.a)(["\n  mutation UpdatePlayerName($id: Int!, $name: String!) {\n    updatePlayerName(id: $id, name: $name)\n  }\n"]);return ge=function(){return e},e}function pe(){var e=Object(o.a)(["\n  mutation UpdatePlayerPass($id: Int!, $pass: String!) {\n    updatePlayerPass(id: $id, pass: $pass) {\n      isValid\n      name\n    }\n  }\n"]);return pe=function(){return e},e}function fe(){var e=Object(o.a)(["\n  mutation UpdateRoleNumber($id: Int!, $number: Int!) {\n    updateRoleNumber(id: $id, number: $number)\n  }\n"]);return fe=function(){return e},e}function Ee(){var e=Object(o.a)(["\n  query GetPlayer($id: Int!, $pass: String!) {\n    player(id: $id, pass: $pass) {\n      id\n      name\n      roleName\n    }\n    players {\n      id\n      name\n    }\n  }\n"]);return Ee=function(){return e},e}function ye(){var e=Object(o.a)(["\n  query GetPlayer($id: Int!, $pass: String!) {\n    player(id: $id, pass: $pass) {\n      id\n      name\n    }\n  }\n"]);return ye=function(){return e},e}function ve(){var e=Object(o.a)(["\n  {\n    roles {\n      id\n      name\n      number\n    }\n    players {\n      id\n      name\n      roleName\n      isEmpty\n    }\n  }\n"]);return ve=function(){return e},e}function Oe(){var e=Object(o.a)(["\n  {\n    players {\n      id\n      name\n      isEmpty\n    }\n  }\n"]);return Oe=function(){return e},e}var je=new p.a({uri:"/graphql"}),he=Object(G.a)((function(e){return{margin:{margin:e.spacing(1)},table:{minWidth:450},title:{flexGrow:1},menuButton:{marginRight:e.spacing(2)}}})),$e=Object(p.b)(Oe()),Pe=(Object(p.b)(ve()),Object(p.b)(ye()),Object(p.b)(Ee())),Ne=(Object(p.b)(fe()),Object(p.b)(pe())),Ie=Object(p.b)(ge());Object(p.b)(be()),Object(p.b)(de()),Object(p.b)(se());function we(){return r.a.createElement(w.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",(new Date).getFullYear(),".")}function Se(e){var n=he();return r.a.createElement(j.a,{component:P.a},r.a.createElement(y.a,{className:n.table,"aria-label":"simple table",size:"small"},r.a.createElement(h.a,null,r.a.createElement($.a,null,r.a.createElement(O.a,null,"ID"),r.a.createElement(O.a,{align:"right"},"\u73a9\u5bb6"),r.a.createElement(O.a,{align:"right"},"\u89d2\u8272"),r.a.createElement(O.a,{align:"right"},"\u4e0a\u7dda"))),r.a.createElement(v.a,null,e.data.map((function(e){return r.a.createElement($.a,{key:e.id},r.a.createElement(O.a,{component:"th",scope:"row"},e.id),r.a.createElement(O.a,{align:"right"},e.name),r.a.createElement(O.a,{align:"right"},e.roleName),r.a.createElement(O.a,{align:"right"},r.a.createElement("span",{style:{color:e.isEmpty?"gray":"lightgreen",transition:"all .3s ease",fontSize:"24px",marginRight:"10px"}},"\u25cf")))})))))}function xe(e){var n=he(),a=Object(f.b)(Pe,{fetchPolicy:"network-only",variables:{id:e.id,pass:e.pass},pollInterval:500}),t=a.loading,l=(a.error,a.data);console.log(e);var i=Object(L.a)(e.name,500),o=Object(c.a)(i,2),m=o[0],u=o[1],d=r.a.useState(e.name),b=Object(c.a)(d,2),g=b[0],p=b[1],E=Object(f.a)(Ie),y=Object(c.a)(E,2),v=y[0],O=y[1].called;if(r.a.useEffect((function(){m&&(m!==e.name||O)&&v({variables:{id:e.id,name:m}})}),[m]),t)return r.a.createElement("div",null,"Loading");console.log(l.player);var j=l.player,h=(j.id,j.name,j.roleName);return r.a.createElement("div",{style:{marginTop:120}},r.a.createElement(s.a,{id:"standard-basic",label:"\u59d3\u540d",variant:"outlined",className:n.margin,margin:"dense",value:g,onChange:function(e){u(e.target.value),p(e.target.value)}}),r.a.createElement(N.a,{className:n.root},r.a.createElement(I.a,null,r.a.createElement(w.a,{variant:"h1",component:"h1"},h))),r.a.createElement(Se,{data:l.players}))}function Re(){var e=he(),n=r.a.useState(-1),a=Object(c.a)(n,2),t=a[0],l=a[1],i=r.a.useState(0),o=Object(c.a)(i,2),b=o[0],p=o[1],E=Object(f.b)($e),y=E.loading,v=(E.error,E.data),O=Object(f.a)(Ne),j=Object(c.a)(O,2),h=j[0],$=j[1],P=r.a.useState(!1),N=Object(c.a)(P,2),I=N[0],k=N[1];return y||$.loading?r.a.createElement("div",null,"Loading"):$.called&&$.data.updatePlayerPass.isValid&&I?(console.log($),r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,null),r.a.createElement(z.a,null,r.a.createElement(S.a,{position:"absolute"},r.a.createElement(x.a,null,r.a.createElement(R.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(C.a,null)),r.a.createElement(w.a,{variant:"h6",className:e.title},"\u5c0f\u72fc\u72fc"),r.a.createElement(m.a,{variant:"contained",color:"secondary",onClick:function(){k(!1)}},"\u9000\u51fa"))),r.a.createElement("div",{style:{marginTop:10}},0===t?r.a.createElement(ue,null):r.a.createElement(xe,{id:t,pass:b,name:$.data.updatePlayerPass.name})),r.a.createElement(T.a,{pt:4},r.a.createElement(we,null))))):r.a.createElement("div",{style:{marginTop:"20%"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(u.a,{id:"combo-box-demo",className:e.margin,options:v.players,getOptionLabel:function(e){return"\u73a9\u5bb6 ".concat(e.id)},renderOption:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{color:e.isEmpty?"gray":"lightgreen",transition:"all .3s ease",fontSize:"24px",marginRight:"10px"}},"\u25cf")," \u73a9\u5bb6 ".concat(e.id))},onChange:function(e,n){l(n.id)},style:{width:200,marginLeft:55},renderInput:function(e){return r.a.createElement(s.a,Object.assign({},e,{label:"\u73a9\u5bb6",variant:"outlined",margin:"dense"}))}}),r.a.createElement("div",{style:{marginTop:10}},r.a.createElement(d.a,{size:"medium",color:"secondary","aria-label":"add",onClick:function(){h({variables:{id:t,pass:b}}),k(!0)}},r.a.createElement(g.a,null)))),r.a.createElement(s.a,{id:"standard-basic",label:"\u5bc6\u78bc",variant:"outlined",className:e.margin,margin:"dense",onChange:function(e){return p(e.target.value)},value:b}))}var ke=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(E.a,{client:je},r.a.createElement(Re,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ke,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},99:function(e,n,a){e.exports=a(114)}},[[99,1,2]]]);
//# sourceMappingURL=main.e7fc0a8d.chunk.js.map