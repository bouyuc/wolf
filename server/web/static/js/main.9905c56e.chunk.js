(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{201:function(e,n,a){e.exports=a(248)},206:function(e,n,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},207:function(e,n,a){},248:function(e,n,a){"use strict";a.r(n);var t=a(0),r=a.n(t),l=a(19),i=a.n(l),c=a(17),o=a(16),m=(a(206),a(207),a(295)),u=a(306),s=a(304),d=a(14),b=a(28),p=a(27),g=a(290),E=a(294),f=a(293),y=a(289),v=a(291),O=a(292),j=a(186),h=a(299),$=a(300),P=a(249),N=a(302),x=a(303),I=a(297),w=a(182),S=a.n(w),R=a(287),k=a(288);a(286);Object(R.a)((function(e){return{footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6,0)}}}));var C=a(301),W=a(305),G=a(185),z=a(181),B=a(12),T=Object(R.a)((function(e){return{margin:{margin:e.spacing(1)},table:{minWidth:450},title:{flexGrow:1},menuButton:{marginRight:e.spacing(2)}}}));function U(e){var n=T();return r.a.createElement(y.a,{component:j.a},r.a.createElement(g.a,{className:n.table,"aria-label":"simple table",size:"small"},r.a.createElement(v.a,null,r.a.createElement(O.a,null,r.a.createElement(f.a,null,"ID"),r.a.createElement(f.a,{align:"right"},"\u73a9\u5bb6"),r.a.createElement(f.a,{align:"right"},"\u89d2\u8272"),r.a.createElement(f.a,{align:"right"},"\u4e0a\u7dda"))),r.a.createElement(E.a,null,e.data.map((function(e){return r.a.createElement(O.a,{key:e.id},r.a.createElement(f.a,{component:"th",scope:"row"},e.id),r.a.createElement(f.a,{align:"right"},e.name),r.a.createElement(f.a,{align:"right"},e.roleName),r.a.createElement(f.a,{align:"right"},r.a.createElement("span",{style:{color:e.isEmpty?"gray":"lightgreen",transition:"all .3s ease",fontSize:"24px",marginRight:"10px"}},"\u25cf")))})))))}function q(){var e=Object(o.a)(["\n  {\n    roles {\n      id\n      name\n      number\n    }\n    players {\n      id\n      name\n      roleName\n      isEmpty\n    }\n  }\n"]);return q=function(){return e},e}var A=Object(d.b)(q()),L=Object(R.a)((function(e){return{margin:{margin:e.spacing(1)},table:{minWidth:450},title:{flexGrow:1},menuButton:{marginRight:e.spacing(2)}}}));function D(e){var n=L(),a=function(e){var n=0,a=[];return e.forEach((function(e){var t=e.number;t&&(n+=t,a.push(e))})),{total:n,data:a}}(e.data),t=a.total,l=a.data;return r.a.createElement(y.a,{component:j.a},r.a.createElement(g.a,{className:n.table,"aria-label":"simple table",size:"small"},r.a.createElement(v.a,null,r.a.createElement(O.a,null,r.a.createElement(f.a,null,"\u89d2\u8272"),r.a.createElement(f.a,{align:"right"},"\u4eba\u6578"))),r.a.createElement(E.a,null,l.map((function(e){return r.a.createElement(O.a,{key:e.name},r.a.createElement(f.a,{component:"th",scope:"row"},e.name),r.a.createElement(f.a,{align:"right"},e.number))})),r.a.createElement(O.a,null,r.a.createElement(f.a,{align:"right"},"\u7e3d\u4eba\u6578"),r.a.createElement(f.a,{align:"right"},t)))))}function F(){var e=Object(b.b)(A,{pollInterval:500}),n=e.loading,a=(e.error,e.data);return n?null:r.a.createElement(D,{data:a.roles.filter((function(e){return e.id>0}))})}var V=a(298),J=a(180),M=a.n(J);function Y(){var e=Object(o.a)(["\n  mutation RemoveAllPlayer {\n    removeAllPlayer\n  }\n"]);return Y=function(){return e},e}function H(){var e=Object(o.a)(["\n  mutation GeneratePlayer {\n    generatePlayer\n  }\n"]);return H=function(){return e},e}function K(){var e=Object(o.a)(["\n  mutation GenerateRole {\n    generateRole\n  }\n"]);return K=function(){return e},e}function Q(){var e=Object(o.a)(["\n  mutation UpdatePlayerName($id: Int!, $name: String!) {\n    updatePlayerName(id: $id, name: $name)\n  }\n"]);return Q=function(){return e},e}function X(){var e=Object(o.a)(["\n  mutation UpdatePlayerPass($id: Int!, $pass: String!) {\n    updatePlayerPass(id: $id, pass: $pass) {\n      isValid\n      name\n    }\n  }\n"]);return X=function(){return e},e}function Z(){var e=Object(o.a)(["\n  mutation UpdateRoleNumber($id: Int!, $number: Int!) {\n    updateRoleNumber(id: $id, number: $number)\n  }\n"]);return Z=function(){return e},e}function _(){var e=Object(o.a)(["\n  query GetPlayer($id: Int!, $pass: String!) {\n    player(id: $id, pass: $pass) {\n      id\n      name\n      roleName\n    }\n    players {\n      id\n      name\n    }\n  }\n"]);return _=function(){return e},e}function ee(){var e=Object(o.a)(["\n  query GetPlayer($id: Int!, $pass: String!) {\n    player(id: $id, pass: $pass) {\n      id\n      name\n    }\n  }\n"]);return ee=function(){return e},e}function ne(){var e=Object(o.a)(["\n  {\n    roles {\n      id\n      name\n      number\n    }\n    players {\n      id\n      name\n      roleName\n      isEmpty\n    }\n  }\n"]);return ne=function(){return e},e}function ae(){var e=Object(o.a)(["\n  {\n    players {\n      id\n      name\n      isEmpty\n    }\n  }\n"]);return ae=function(){return e},e}Object(d.b)(ae());var te=Object(d.b)(ne()),re=(Object(d.b)(ee()),Object(d.b)(_()),Object(d.b)(Z())),le=(Object(d.b)(X()),Object(d.b)(Q()),Object(d.b)(K())),ie=Object(d.b)(H()),ce=Object(d.b)(Y()),oe=Object(R.a)((function(e){return{margin:{margin:e.spacing(1)},table:{minWidth:250},title:{flexGrow:1},menuButton:{marginRight:e.spacing(2)}}}));function me(){var e,n=oe(),a=Object(b.b)(te,{pollInterval:500}),t=a.loading,l=(a.error,a.data),i=Object(b.a)(re),o=Object(c.a)(i,1)[0],d=Object(b.a)(le),p=Object(c.a)(d,1)[0],g=Object(b.a)(ie),E=Object(c.a)(g,1)[0],f=Object(b.a)(ce),y=Object(c.a)(f,1)[0],v=r.a.useState(-1),O=Object(c.a)(v,2),j=O[0],h=O[1],$=r.a.useState(0),P=Object(c.a)($,2),N=P[0],x=P[1];if(t)return r.a.createElement("div",null,"Loading");return l.players.length>1?r.a.createElement("div",{style:{marginTop:120}},r.a.createElement(m.a,{variant:"contained",color:"primary",onClick:function(){p()}},"\u7522\u751f\u89d2\u8272"),r.a.createElement(m.a,{variant:"contained",color:"secondary",onClick:function(){y()}},"\u522a\u9664\u73a9\u5bb6"),r.a.createElement(k.a,{maxWidth:"sm"},r.a.createElement(U,{data:l.players}))):r.a.createElement("div",{style:{marginTop:120}},r.a.createElement(m.a,{variant:"contained",color:"primary",onClick:function(){E()}},"\u52a0\u5165\u73a9\u5bb6"),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(u.a,{id:"combo-box-demo",options:l.roles.filter((function(e){return e.id>0})),getOptionLabel:function(e){return e.name},style:{width:300},onChange:function(e,n){h(n.id)},renderInput:function(e){return r.a.createElement(s.a,Object.assign({},e,{label:"\u89d2\u8272",variant:"outlined",margin:"dense"}))}}),r.a.createElement(s.a,{id:"standard-basic",label:"\u4eba\u6578",variant:"outlined",className:n.margin,margin:"dense",type:"number",value:N,onChange:function(e){return x(e.target.value)}}),r.a.createElement("div",{style:{marginTop:5}},r.a.createElement(V.a,(e={size:"medium",color:"secondary","aria-label":"add"},Object(B.a)(e,"size","small"),Object(B.a)(e,"onClick",(function(){console.log(j,N),o({variables:{id:j,number:parseInt(N)}})})),e),r.a.createElement(M.a,null)))),r.a.createElement(k.a,{maxWidth:"sm"},r.a.createElement(F,null)))}function ue(){var e=Object(o.a)(["\n  mutation RemoveAllPlayer {\n    removeAllPlayer\n  }\n"]);return ue=function(){return e},e}function se(){var e=Object(o.a)(["\n  mutation GeneratePlayer {\n    generatePlayer\n  }\n"]);return se=function(){return e},e}function de(){var e=Object(o.a)(["\n  mutation GenerateRole {\n    generateRole\n  }\n"]);return de=function(){return e},e}function be(){var e=Object(o.a)(["\n  mutation UpdatePlayerName($id: Int!, $name: String!) {\n    updatePlayerName(id: $id, name: $name)\n  }\n"]);return be=function(){return e},e}function pe(){var e=Object(o.a)(["\n  mutation UpdatePlayerPass($id: Int!, $pass: String!) {\n    updatePlayerPass(id: $id, pass: $pass) {\n      isValid\n      name\n    }\n  }\n"]);return pe=function(){return e},e}function ge(){var e=Object(o.a)(["\n  mutation UpdateRoleNumber($id: Int!, $number: Int!) {\n    updateRoleNumber(id: $id, number: $number)\n  }\n"]);return ge=function(){return e},e}function Ee(){var e=Object(o.a)(["\n  query GetPlayer($id: Int!, $pass: String!) {\n    player(id: $id, pass: $pass) {\n      id\n      name\n      roleName\n    }\n    players {\n      id\n      name\n      isEmpty\n    }\n  }\n"]);return Ee=function(){return e},e}function fe(){var e=Object(o.a)(["\n  query GetPlayer($id: Int!, $pass: String!) {\n    player(id: $id, pass: $pass) {\n      id\n      name\n    }\n  }\n"]);return fe=function(){return e},e}function ye(){var e=Object(o.a)(["\n  {\n    roles {\n      id\n      name\n      number\n    }\n    players {\n      id\n      name\n      roleName\n      isEmpty\n    }\n  }\n"]);return ye=function(){return e},e}function ve(){var e=Object(o.a)(["\n  {\n    players {\n      id\n      name\n      isEmpty\n    }\n  }\n"]);return ve=function(){return e},e}var Oe=new d.a({uri:"/graphql"}),je=Object(R.a)((function(e){return{margin:{},table:{minWidth:450},title:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},submit:{margin:e.spacing(3,0,2)},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)}}})),he=Object(d.b)(ve()),$e=(Object(d.b)(ye()),Object(d.b)(fe()),Object(d.b)(Ee())),Pe=(Object(d.b)(ge()),Object(d.b)(pe())),Ne=Object(d.b)(be());Object(d.b)(de()),Object(d.b)(se()),Object(d.b)(ue());function xe(){return r.a.createElement(P.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",(new Date).getFullYear(),".")}function Ie(e){var n=je();return r.a.createElement(y.a,{component:j.a},r.a.createElement(g.a,{className:n.table,"aria-label":"simple table",size:"small"},r.a.createElement(v.a,null,r.a.createElement(O.a,null,r.a.createElement(f.a,null,"ID"),r.a.createElement(f.a,{align:"right"},"\u73a9\u5bb6"),r.a.createElement(f.a,{align:"right"},"\u4e0a\u7dda"))),r.a.createElement(E.a,null,e.data.map((function(e){return r.a.createElement(O.a,{key:e.id},r.a.createElement(f.a,{component:"th",scope:"row"},e.id),r.a.createElement(f.a,{align:"right"},e.name),r.a.createElement(f.a,{align:"right"},r.a.createElement("span",{style:{color:e.isEmpty?"gray":"lightgreen",transition:"all .3s ease",fontSize:"24px",marginRight:"10px"}},"\u25cf")))})))))}function we(e){var n=je(),a=Object(b.b)($e,{fetchPolicy:"network-only",variables:{id:e.id,pass:e.pass},pollInterval:500}),t=a.loading,l=(a.error,a.data);console.log(e);var i=Object(z.a)(e.name,500),o=Object(c.a)(i,2),m=o[0],u=o[1],d=r.a.useState(e.name),p=Object(c.a)(d,2),g=p[0],E=p[1],f=Object(b.a)(Ne),y=Object(c.a)(f,2),v=y[0],O=y[1].called;if(r.a.useEffect((function(){m&&(m!==e.name||O)&&v({variables:{id:e.id,name:m}})}),[m]),t)return r.a.createElement("div",null,"Loading");console.log(l.player);var j=l.player,N=(j.id,j.name,j.roleName);return r.a.createElement(k.a,{maxWidth:"sm"},r.a.createElement(s.a,{id:"standard-basic",label:"\u59d3\u540d",variant:"outlined",className:n.margin,margin:"dense",value:g,onChange:function(e){u(e.target.value),E(e.target.value)}}),r.a.createElement(h.a,{className:n.root},r.a.createElement($.a,null,r.a.createElement(P.a,{variant:"h1",component:"h1"},N))),r.a.createElement(Ie,{data:l.players}))}function Se(){var e=je(),n=r.a.useState(-1),a=Object(c.a)(n,2),t=a[0],l=a[1],i=r.a.useState(""),o=Object(c.a)(i,2),d=o[0],p=o[1],g=Object(b.b)(he),E=g.loading,f=(g.error,g.data),y=Object(b.a)(Pe),v=Object(c.a)(y,2),O=v[0],j=v[1],h=r.a.useState(!1),$=Object(c.a)(h,2),w=$[0],R=$[1];return E||j.loading?r.a.createElement("div",null,"Loading"):j.called&&j.data.updatePlayerPass.isValid&&w?r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,null),r.a.createElement(k.a,null,r.a.createElement(N.a,{position:"absolute"},r.a.createElement(x.a,null,r.a.createElement(I.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(S.a,null)),r.a.createElement(P.a,{variant:"h6",className:e.title},"\u5c0f\u72fc\u72fc"),r.a.createElement(m.a,{variant:"contained",color:"secondary",onClick:function(){R(!1)}},"\u9000\u51fa"))),r.a.createElement("div",{style:{marginTop:100}},0===t?r.a.createElement(me,null):r.a.createElement(we,{id:t,pass:d,name:j.data.updatePlayerPass.name})),r.a.createElement(W.a,{pt:4},r.a.createElement(xe,null)))):r.a.createElement(k.a,{component:"main",maxWidth:"xs"},r.a.createElement(C.a,null),r.a.createElement("div",{style:{marginTop:"20%"}},r.a.createElement(G.a,{round:!0,src:"wolf-login.png"}),r.a.createElement(u.a,{fullWidth:!0,id:"combo-box-demo",className:e.margin,options:f.players,getOptionLabel:function(e){return"\u73a9\u5bb6 ".concat(e.id)},renderOption:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{color:e.isEmpty?"gray":"lightgreen",transition:"all .3s ease",fontSize:"24px",marginRight:"10px"}},"\u25cf")," \u73a9\u5bb6 ".concat(e.id))},onChange:function(e,n){l(n.id)},renderInput:function(e){return r.a.createElement(s.a,Object.assign({},e,{label:"\u73a9\u5bb6",variant:"outlined",margin:"dense"}))}}),r.a.createElement(s.a,{fullWidth:!0,id:"standard-basic",label:"\u5bc6\u78bc",variant:"outlined",className:e.margin,margin:"dense",onChange:function(e){return p(e.target.value)},value:d}),r.a.createElement(m.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(){O({variables:{id:t,pass:d}}),R(!0)}},"\u767b\u5165")),r.a.createElement(W.a,{mt:8},r.a.createElement(xe,null)))}var Re=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(p.a,{client:Oe},r.a.createElement(Se,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Re,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[201,1,2]]]);
//# sourceMappingURL=main.9905c56e.chunk.js.map